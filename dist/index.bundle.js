module.exports=function(e){var r={};function n(t){if(r[t])return r[t].exports;var o=r[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=r,n.d=function(e,r,t){n.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:t})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,r){if(1&r&&(e=n(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(n.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var o in e)n.d(t,o,function(r){return e[r]}.bind(null,o));return t},n.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(r,"a",r),r},n.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},n.p="",n(n.s=13)}([function(e,r){e.exports=require("http-status")},function(e,r){e.exports=require("express")},function(e,r){e.exports=require("debug")},function(e,r){e.exports=require("body-parser")},function(e,r){e.exports=require("@babel/runtime/helpers/objectSpread")},function(e,r){e.exports=require("dotenv")},function(e,r){e.exports=require("http-errors")},function(e,r){e.exports=require("http")},function(e,r){e.exports=require("morgan")},function(e,r){e.exports=require("compression")},function(e,r){e.exports=require("helmet")},function(e,r){e.exports=require("passport")},function(e,r){e.exports=require("mongoose")},function(e,r,n){"use strict";n.r(r);var t=n(1),o=n.n(t),s=n(4),i=n.n(s),u=n(5),a=n.n(u);a.a.config();var c={MONGO_URL:process.env.DB_URL,JWT_SECRET:process.env.JWT_SECRET},p={},f={},l={PORT:process.env.PORT||3e3};var d=i()({},l,function(e){switch(e){case"development":return c;case"test":return p;default:return f}}("production")),g=n(12),v=n.n(g);a.a.config(),v.a.Promise=global.Promise,v.a.set("useCreateIndex",!0);try{v.a.connect(process.env.DB_URL,{useNewUrlParser:!0})}catch(e){v.a.createConnection(process.env.DB_URL,{useNewUrlParser:!0})}v.a.connection.once("open",function(){return console.log("MongoDB Running")}).on("error",function(e){throw e});var m=n(0),x=n.n(m),y=n(6),b=n.n(y),h=n(2),O=n.n(h),P=n(7),q=n.n(P),R=n(3),S=n.n(R),_=(n(8),n(9)),T=n.n(_),N=n(10),j=n.n(N),w=n(11),U=n.n(w),D=o()();!function(e){e.use(T()()),e.use(j()()),e.use(S.a.json()),e.use(S.a.urlencoded({extended:!0})),e.use(U.a.initialize())}(D),D.get("/",function(e,r,n){r.status(x.a.OK).send({status:"Success",name:"diggy-auth-core-api",description:" ",data:{version:"v1.0.0",Author:"Ali Reza M",repository:{type:"git",url:"git+https://github.com/alireza236/diggy-auth-core.git"},License:"MIT",homepage:"https://github.com/alireza236/diggy-auth-core#readme"}})}),D.use(function(e,r,n){n(b()(x.a.NOT_FOUND))}),D.use(function(e,r,n,t){n.locals.message=e.message,n.locals.error="development"===r.app.get("env")?e:{},n.status(e.status||x.a.NOT_FOUND).send({message:e.message})});var E=function(e){var r=parseInt(e,10);if(isNaN(r))return e;if(r>=0)return r;return!1}(d.PORT||"3000");D.set("port",E);var M=q.a.createServer(D);M.listen(E,function(e){if(e)throw e;console.log(" Server running on port: ".concat(d.PORT," --- Running on ").concat("production"," --- Service is running"));var r="string"==typeof M.address()?"pipe "+M.address():"port "+M.address().port;O()("Listening on "+r)}),M.on("error",function(e){if("listen"!==e.syscall)throw e;var r="string"==typeof E?"Pipe "+E:"Port "+E;switch(e.code){case"EACCES":console.error(r+" requires elevated privileges"),process.exit(1);break;case"EADDRINUSE":console.error(r+" is already in use"),process.exit(1);break;default:throw e}}),M.on("listening",function(){var e=M.address(),r="string"==typeof e?"pipe "+e:"port "+e.port;O()("Listening on "+r)})}]);